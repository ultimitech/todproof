<%= render 'shared/errors', obj: [@message, @translation] %>

<div class='row'>
  <div class='col-xs-12'>
    <%= form_for([@message, @translation], :html => {class: 'form-horizontal', role: 'form'}) do |f| %>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
            <%= f.label 'Language' %>
        </div>
        <div class='col-sm-8'>
            <%= f.text_field :lan, class: 'form-control', placeholder: 'Language (in English)', autofocus: true %> 
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Translated title' %>
        </div>
        <div class='col-sm-8'>
          <%= f.text_field :tran_title, class: 'form-control', placeholder: 'Translated Title' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'ENG translation' %>
        </div>
        <div class='col-sm-8'>
		<% eng_xlats = Translation.all.where(lan: 'ENG').sort_by {|x| x.message.descriptor} %>
		<%= f.collection_select :eng_tran_id, eng_xlats, :id, :translation_text, {include_blank: 'N/A (This is an ENG translation)'}, class: 'form-control', placeholder: 'ENG translation' %> 
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Description' %>
        </div>
        <div class='col-sm-8'>
          <%= f.text_area :descrip, rows: 10, class: 'form-control', placeholder: 'Description' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Block Count' %>
        </div>
        <div class='col-sm-8'>
          <%= f.number_field :blkc, class: 'form-control', placeholder: 'Block Count' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Sub-block Count' %>
        </div>
        <div class='col-sm-8'>
          <%= f.number_field :subc, class: 'form-control', placeholder: 'Sub-block Count' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Sentence Count' %>
        </div>
        <div class='col-sm-8'>
          <%= f.number_field :senc, class: 'form-control', placeholder: 'Sentence Count' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Transcription' %>
        </div>
        <div class='col-sm-8'>
          <%= f.select :xcrip, [['Andes', 'A'], ['Mamalis', 'M']], class: 'form-control', placeholder: 'Transcription' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
            <%= f.label 'Lookup Imported (ENG) / Translate contributions randomized (OTH)' %>
        </div>
        <div class='col-sm-8'>
            <%= f.check_box :li, class: 'form-control', placeholder: 'Lookup Imported' %> 
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Publication Date' %>
        </div>
        <div class='col-sm-8'>
          <%= f.date_select :pubdate, start_year: 2014, end_year: 2030, class: 'form-control', autofocus: true %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-sm-2'>
          <%= f.label 'Version' %>
        </div>
        <div class='col-sm-8'>
          <%= f.text_field :version, class: 'form-control', placeholder: 'Version' %>
        </div>
      </div>

      <div class="form-group">
        <div class='col-sm-offset-2 col-xs-10'>
          <%= f.submit class: 'btn btn-primary btn-lg' %>
        </div>
      </div>

    <% end %>

    <div class='col-xs-4 col-xs-offset-4'>
      [ <%= link_to "Cancel request and return to translations listing", message_translations_path %> ]
    </div>    
  </div>

</div>
